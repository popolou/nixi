<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Nixi</title>
  <meta name="description" content="An alternative web interface for the BIXI bike share system.">
  <meta name="author" content="William Lachance">

  <link href="scaffold.css" rel="stylesheet" />
  <link href="style.css" rel="stylesheet" />
  <link href="aristo-jquery-theme/css/Aristo/jquery-ui-1.8.7.custom.css" rel="stylesheet" />

  <link rel="icon" href="images/nixi-favico.png"/>

 </head>

<body>

  <div id="header" class="ui-layout-north">
    <h1><a href="/">nixi<span>.ca</span></a></h1>
    <p>Find BIXI stations, faster!</p>
    <div id="nav">
      <select id="city-selector">
      </select>
    </div>
  </div>

  <div class="ui-layout-west">
    <div id="panels">
      <div class="panel" id="intro">
	<div class="content">
	  <p>
	    Welcome to nixi.ca, an alternative web interface for the <a href="http://bixi.com">BIXI</a> bike share system.
	  </p>
	  <div class="ui-widget" id="city-hint-widget">
	    <div class="ui-state-highlight ui-corner-all" style="margin-top: 20px; padding: 8px;">
	      <p><span class="ui-icon ui-icon-info" style="float: left; margin-right: .7em;"></span>
		<strong>Hint:</strong> You can choose your preferred city with the selector in the top right corner.</p>	
	    </div>
	  </div>
	</div>
      </div>
      <div class="panel" style="display:none;">
	<div class="content">
	  <div id="tab-selector">
	    <input type="radio" id="find-nearby" name="radio" checked="checked"/><label for="find-nearby">Find Nearby</label>
	    <input type="radio" id="trip-planner" name="radio"/><label for="trip-planner">Plan Trip</label>
	  </div>
	</div>
      </div>
      <div class="panel" id="nearby-panel">
	<div class="content">
	  <div class="ui-widget" style="padding: 8px 0px;" id="nearby-error-widget">
	    <div class="ui-state-error ui-corner-all" style="padding: 8px;">
	      <p id="error-description"><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .7em;"></span>
		<strong>Error:</strong> Unable to find location. Please make sure you have a proper Internet connection and double check the wording.</p>
	    </div>
	  </div>
	  <form id="nearby-form" class="ui-form">
	    <div class="location-input">
	      <p>
		<strong>Where</strong><br />
		<input id="nearby-input" type="text" required autofocus/>
	      </p>
	    </div>
	    <div class="submit">
	      <input type="submit" id="find-nearby-button" value="Find!" />
	    </div>
	  </form>
	</div>
      </div>
      <div class="panel" id="nearby">
	<div class="content">
	  <div id="nearby-content">
	  </div>
	</div>
      </div>
      <div class="panel" id="trip-planner-panel">
	<div class="content">
	  <div class="ui-widget" style="padding: 8px 0px;" id="error-widget">
	    <div class="ui-state-error ui-corner-all" style="padding: 8px;">
	      <p id="error-description"><span class="ui-icon ui-icon-alert" style="float: left; margin-right: .7em;"></span>
		<strong>Error:</strong> Unable to get directions. Please make sure you have a proper Internet connection and double check "from" and "to" fields.</p>	
	    </div>
	  </div>
	  <form id="directions-form" class="ui-form">
	    <div class="location-input">
	      <p>
		<strong>From</strong><br />
		<input id="from-input" type="text" required/>
	      </p>
	      <p>
		<strong>To</strong><br />
		<input id="to-input" type="text" required/>
	      </p>
	    </div>
	    <div class="reverse-input">
	      <div id="reverse-button"></div>
	    </div>
	    <div class="submit">
	      <input type="submit" id="plan-button" value="Plan!" />
	    </div>
	  </form>
	</div>
      </div>
    </div>
    <div id="footer">
      <p>
	Copyright 2011 <a href="http://masalalabs.ca">William Lachance</a>. nixi.ca is not affiliated with, licensed or endorsed by BIXI or the Public Bike System Company. nixi is <a href="http://www.gnu.org/philosophy/free-sw.html">free software</a>, source available on <a href="http://github.com/wlach/nixi">github</a>. Patches welcome!
      </p>
    </div>
  </div>

  <div class="ui-layout-center"><div id="map_canvas"></div></div>

  <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
  <script src="http://maps.google.com/maps/api/js?libraries=places&sensor=false"></script>
  <script src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
  <script src="http://code.jquery.com/ui/1.8.13/jquery-ui.min.js"></script>

  <script src="layout/jquery.layout.min-1.2.0.js"></script>
  <script src="javascripts/js-class.js"></script>
  <script src="javascripts/bluff-min.js"></script>
  <script src="javascripts/ICanHaz.min.js"></script>

  <script src="javascripts/nixi.js"></script>

  <script type="text/javascript">
    $(document).ready(function () {
        init();
    });
  </script>

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', "UA-1648932-6"]);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
     })();

  </script>

  <script id="stations" type="text/html">
    <div id="nearby-content">
      <h2>{{ title }}</h2>
      {{#stations}}
      <div class="nearby-station" id="station-{{ id }}" station-id="{{ id }}">
	<table>
	  <tr>
	    <td class="station-graph">
	    <canvas id="station-graph-{{ id }}" width="40" height="40"></canvas>
	    </td>
	  <td class="station">
	    <p class="station-name">{{ name }}</p>
	    <p class="station-info">Distance: {{ distance }}m - Empty Docks: {{ numEmptyDocks }} - Bikes: {{ numBikes }}</p>
	  </td>
	  </tr>
	</table>
      </div>
      {{/stations}}
    </div>
  </script>
</body>

</html>
